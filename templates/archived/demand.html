<!DOCTYPE html>
<html style="font-size: 16px;" lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <title>Demand</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/nicepage.css') }}" media="screen">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/demand.css') }}" media="screen">
    <script class="u-script" type="text/javascript" src="{{ url_for('static', filename='js/jquery-1.9.1.min.js') }}" defer=""></script>
    <script class="u-script" type="text/javascript" src="{{ url_for('static', filename='js/nicepage.js') }}" defer=""></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <meta name="generator" content="Nicepage 5.17.1, nicepage.com">
    <meta name="referrer" content="origin">
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
    <link id="u-page-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,300i,400,400i,500,500i,700,700i">

    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "name": "AInspirEstate",
        "logo": "/images/favicon.png?rand=e350"
      }
    </script>

    <meta name="theme-color" content="#478ac9">
    <meta property="og:title" content="demand">
    <meta property="og:description" content="">
    <meta property="og:type" content="website">
  <meta data-intl-tel-input-cdn-path="intlTelInput/">
</head>

<body class="u-body u-xl-mode" data-lang="en">
  <header class="u-clearfix u-header u-header" id="sec-6772">
    <div class="u-clearfix u-sheet u-sheet-1">
      <a href="https://ainspirestate.studio/" class="u-image u-logo u-image-1" data-image-width="696" data-image-height="546">
        <img src="{{ url_for('static', filename='favicon.ico') }}" class="u-logo-image u-logo-image-1">
      </a>
      <nav class="u-dropdown-icon u-menu u-menu-dropdown u-offcanvas u-menu-1" data-responsive-from="MD">
        <div class="menu-collapse" style="font-size: 1rem; letter-spacing: 0px; font-weight: 700; text-transform: uppercase;">
          <a class="u-button-style u-custom-active-border-color u-custom-active-color u-custom-border u-custom-border-color u-custom-borders u-custom-hover-border-color u-custom-hover-color u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-text-active-color u-custom-text-color u-custom-text-decoration u-custom-text-hover-color u-custom-top-bottom-menu-spacing u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="#">
            <svg class="u-svg-link" viewBox="0 0 24 24">
              <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#menu-hamburger"></use>
            </svg>
            <svg class="u-svg-content" version="1.1" id="menu-hamburger" viewBox="0 0 16 16" x="0px" y="0px" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
              <g>
                <rect y="1" width="16" height="2"></rect>
                <rect y="7" width="16" height="2"></rect>
                <rect y="13" width="16" height="2"></rect>
              </g>
            </svg>
          </a>
        </div>
        <div class="u-custom-menu u-nav-container">
          <ul class="u-custom-font u-font-ubuntu u-nav u-spacing-2 u-unstyled u-nav-1">
            <li class="u-nav-item">
              <a class="u-border-2 u-border-active-palette-1-base u-border-hover-palette-1-light-1 u-button-style u-nav-link u-text-active-grey-90 u-text-grey-90 u-text-hover-grey-90" href="{{ url_for('index') }}" style="padding: 10px 20px;">
                Home
              </a>
            </li>
            <li class="u-nav-item">
              <a class="u-border-2 u-border-active-palette-1-base u-border-hover-palette-1-light-1 u-button-style u-nav-link u-text-active-grey-90 u-text-grey-90 u-text-hover-grey-90" href="{{ url_for('browsing') }}" style="padding: 10px 20px;">
                BROWSING
              </a>
            </li>
            <li class="u-nav-item">
              <a class="u-border-2 u-border-active-palette-1-base u-border-hover-palette-1-light-1 u-button-style u-nav-link u-text-active-grey-90 u-text-grey-90 u-text-hover-grey-90" href="{{ url_for('prediction') }}" style="padding: 10px 20px;">
                Prediction
              </a>
            </li>
            <li class="u-nav-item">
              <a class="u-border-2 u-border-active-palette-1-base u-border-hover-palette-1-light-1 u-button-style u-nav-link u-text-active-grey-90 u-text-grey-90 u-text-hover-grey-90" href="{{ url_for('demand') }}" style="padding: 10px 20px;">
                demand
              </a>
            </li>
            <!-- <li class="u-nav-item">
              <a class="u-border-2 u-border-active-palette-1-base u-border-hover-palette-1-light-1 u-button-style u-nav-link u-text-active-grey-90 u-text-grey-90 u-text-hover-grey-90" href="{{ url_for('intervention') }}" style="padding: 10px 20px;">
                intervention
              </a>
            </li> -->
          </ul>
        </div>
        <div class="u-custom-menu u-nav-container-collapse">
          <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
            <div class="u-inner-container-layout u-sidenav-overflow">
              <div class="u-menu-close"></div>
              <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-2">
                <li class="u-nav-item">
                  <a class="u-button-style u-nav-link" href="{{ url_for('index') }}">
                    Home
                  </a>
                </li>
                <li class="u-nav-item">
                  <a class="u-button-style u-nav-link" href="{{ url_for('browsing') }}">
                    Browsing
                  </a>
                </li>
                <li class="u-nav-item">
                  <a class="u-button-style u-nav-link" href="{{ url_for('prediction') }}">
                    Prediction
                  </a>
                </li>
                <li class="u-nav-item">
                  <a class="u-button-style u-nav-link" href="{{ url_for('demand') }}">
                    Demand
                  </a>
                </li>
                <!-- <li class="u-nav-item">
                  <a class="u-button-style u-nav-link" href="{{ url_for('intervention') }}">
                    Intervention
                  </a>
                </li> -->
              </ul>
            </div>
          </div>
          <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
        </div>
      </nav>
    </div>
  </header>

  <!-- Market demand analysis -->
  <section class="u-align-center u-clearfix u-image u-shading u-section-1" data-image-width="2000" data-image-height="1333" id="sec-829d" style="background-image: url('static/images/low-angle-shot-facade-white-modern-building-blue-clear-sky.jpg');">
    <div class="u-clearfix u-sheet u-sheet-1">
      <h1 class="u-align-left u-text u-text-body-color u-text-1"> Market demand analysis</h1>
      <div class="u-border-2 u-border-grey-75 u-form u-grey-25 u-radius-10 u-form-1">
        <form action="https://forms.nicepagesrv.com/v2/form/process" class="u-clearfix u-form-horizontal u-form-spacing-15 u-inner-form" style="padding: 15px" source="email">
          <div class="u-form-group u-form-select u-label-left u-form-group-1">
            <label for="select-3b4e" class="u-label u-label-1">
              Suburb
            </label>
            <div class="u-form-select-wrapper">
              <select id="select-3b4e" name="select" class="u-border-no-bottom u-border-no-left u-border-no-right u-border-no-top u-input u-input-rectangle">
                <option value="-">Please select one suburb</option>
                {% for suburb in suburbs %}
                  <option value="{{ suburb.suburb }}">
                    {{ suburb.suburb }}
                  </option>
                {% endfor %}
              </select>
              <svg class="u-caret u-caret-svg" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="16px" height="16px" viewBox="0 0 16 16" style="fill:currentColor;" xml:space="preserve"><polygon class="st0" points="8,12 2,4 14,4 "></polygon></svg>
            </div>
          </div>
          
          <div class="u-form-group u-form-submit u-label-left">
            <label class="u-label u-label-2"></label>
            <div class="u-btn-submit-container">
              <a href="#" class="u-active-palette-1-light-1 u-border-none u-btn u-btn-submit u-button-style u-hover-palette-1-dark-1 u-palette-2-dark-1 u-btn-1">
                Submit
              </a>
            </div>
            <input id="submit-button" type="submit" value="submit" class="u-form-control-hidden">
          </div>
        </form>
      </div>
      <p class="u-text u-text-body-color u-text-2">Select a suburb to check its historical property market demand.</p>
    </div>
  </section>

  <section id="section-2" class="u-align-center u-clearfix u-valign-middle u-section-2" id="sec-0bc7">
    <div class="u-container-style u-expanded-width u-grey-10 u-group u-shape-rectangle u-group-1">
      <div class="u-container-layout u-valign-middle u-container-layout-1">
        <h2 class="u-text u-text-default u-text-1">Market Demand Trends</h2>
      </div>
    </div>
    <div class="u-border-2 u-border-grey-75 u-container-style u-grey-10 u-group u-radius-10 u-shape-round u-group-2">
      <div class="u-container-layout u-container-layout-2">
        <div id="market-demand-chart-container"></div>
      </div>
    </div>
  </section>
  
  <!-- <section class="u-align-center u-clearfix u-section-3" id="carousel_14fe">
    <div class="u-container-style u-expanded-width u-grey-10 u-group u-group-1">
      <div class="u-container-layout u-valign-middle u-container-layout-1">
        <h2 class="u-text u-text-default u-text-1"> Demand Growth Trends</h2>
      </div>
    </div>
    <div class="u-border-2 u-border-grey-75 u-container-style u-grey-10 u-group u-radius-10 u-shape-round u-group-2">
      <div class="u-container-layout u-container-layout-2">
        <div id="sales-growth-chart"></div>
      </div>
    </div>
  </section> -->

  <footer class="u-align-center u-clearfix u-footer u-grey-80 u-footer" id="sec-6200"><div class="u-clearfix u-sheet u-sheet-1">
      <p class="u-small-text u-text u-text-variant u-text-1">TA07 | SEAM | A self-reflective and transcendent team</p>
    </div></footer><span style="height: 64px; width: 64px; margin-left: 0px; margin-right: auto; margin-top: 0px; right: 20px; bottom: 20px; padding: 20px; background-image: none;" class="u-back-to-top u-icon u-icon-rounded u-opacity u-opacity-85 u-palette-1-dark-2" data-href="#">
      <svg class="u-svg-link" preserveAspectRatio="xMidYMin slice" viewBox="0 0 551.13 551.13"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg-1d98"></use></svg>
      <svg class="u-svg-content" enable-background="new 0 0 551.13 551.13" viewBox="0 0 551.13 551.13" xmlns="http://www.w3.org/2000/svg" id="svg-1d98"><path d="m275.565 189.451 223.897 223.897h51.668l-275.565-275.565-275.565 275.565h51.668z"></path></svg>
  </span>

  <script>
    // JavaScript function to send a POST request to the backend
    document.getElementById('submit-button').addEventListener('click', async function() {
      // Get the selected suburb from the dropdown
      var selectedSuburb = document.getElementById('select-3b4e').value;

      // Create a JSON object with the selected suburb
      var requestData = { suburb: selectedSuburb };

      let res = await fetch ("{{url_for('market_demand')}}", {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(requestData),
      })
      let response = await res.json();
      console.log(response);
      let market_demand_data = response.sales_per_month;

      let market_demand_data_container = document.getElementById('market-demand-chart-container');
      Plotly.newPlot(market_demand_data_container, JSON.parse(market_demand_data), {
        title: 'Market Demand Trends',
        xaxis: { title: 'Month' },
        yaxis: { title: 'Number of Sales' },
      });

      document.getElementById("section-2").scrollIntoView({behavior: "smooth"});

    });
  </script>

  <!-- <script>
    var chartContainer = document.getElementById("sales-growth-chart");

    var data = [{
      x: ['2016-2017'],
      y: [11.11],
      type: 'bar',
      marker: { color: 'green' },
      text: ['2017'],
      textposition: 'outside',
    }];

    var layout = {
      title: 'Market Sales Growth Rate',
      xaxis: { title: 'Year Interval' },
      yaxis: { title: 'Sales Growth Rate (%)' },
    };

    Plotly.newPlot(chartContainer, data, layout);
  </script> -->
  
</body>
</html>