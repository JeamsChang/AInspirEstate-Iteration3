<!DOCTYPE html>
<html style="font-size: 16px;" lang="en">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">
  <meta name="keywords" content="">
  <meta name="description" content="">
  <title>Market Growth</title>
  <link rel="stylesheet" href="/static/css/nicepage.css" media="screen">
  <link rel="stylesheet" href="/static/css/demand.css" media="screen">
  <script class="u-script" type="text/javascript" src="/static/js/jquery-1.9.1.min.js" defer=""></script>
  <script class="u-script" type="text/javascript" src="/static/js/nicepage.js" defer=""></script>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <meta name="generator" content="Nicepage 5.18.6, nicepage.com">
  <meta name="referrer" content="origin">
  <link rel="icon" href="/static/favicon.ico">
  <link id="u-theme-google-font" rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
  <link id="u-page-google-font" rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Ubuntu:300,300i,400,400i,500,500i,700,700i">



  <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": "AInspirEstate",
		"logo": "/static/favicon.ico?rand=e350"
}</script>
  <meta name="theme-color" content="#de4640">
  <meta property="og:title" content="market_demand">
  <meta property="og:description" content="">
  <meta property="og:type" content="website">
  <meta data-intl-tel-input-cdn-path="intlTelInput/">
</head>

<body data-path-to-root="/" class="u-body u-xl-mode" data-lang="en">
  <header class="u-box-shadow u-clearfix u-grey-5 u-header u-sticky u-sticky-927d u-valign-middle u-header"
    id="sec-6772"><a href="https://ainspirestate.studio/" class="u-image u-logo u-image-1" data-image-width="696"
      data-image-height="546">
      <img src="/static/favicon.ico?rand=e350" class="u-logo-image u-logo-image-1">
    </a>
    <nav class="u-menu u-menu-one-level u-offcanvas u-menu-1" data-position="menu-bar">
      <div class="menu-collapse"
        style="font-size: 1rem; letter-spacing: 0px; text-transform: uppercase; font-weight: 500;">
        <a class="u-button-style u-custom-active-border-color u-custom-active-color u-custom-border u-custom-border-color u-custom-borders u-custom-hover-border-color u-custom-hover-color u-custom-left-right-menu-spacing u-custom-text-active-color u-custom-text-color u-custom-text-hover-color u-custom-top-bottom-menu-spacing u-nav-link"
          href="#">
          <svg class="u-svg-link" viewBox="0 0 24 24">
            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg-c89b"></use>
          </svg>
          <svg class="u-svg-content" version="1.1" id="svg-c89b" viewBox="0 0 16 16" x="0px" y="0px"
            xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
            <g>
              <rect y="1" width="16" height="2"></rect>
              <rect y="7" width="16" height="2"></rect>
              <rect y="13" width="16" height="2"></rect>
            </g>
          </svg>
        </a>
      </div>
      <div class="u-custom-menu u-nav-container">
        <ul class="u-nav u-spacing-2 u-unstyled u-nav-1">
          <li class="u-nav-item"><a
              class="u-active-grey-70 u-border-active-palette-1-base u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-hover-grey-70 u-nav-link u-text-active-white u-text-grey-90 u-text-hover-white"
              href="{{ url_for('index') }}" style="padding: 10px 20px;">Homepage</a>
          </li>
          <li class="u-nav-item"><a
              class="u-active-grey-70 u-border-active-palette-1-base u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-hover-grey-70 u-nav-link u-text-active-white u-text-grey-90 u-text-hover-white"
              href="{{ url_for('search') }}" style="padding: 10px 20px;">Buy</a>
          </li>
          <li class="u-nav-item"><a
              class="u-active-grey-70 u-border-active-palette-1-base u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-hover-grey-70 u-nav-link u-text-active-white u-text-grey-90 u-text-hover-white"
              href="{{ url_for('sell') }}" style="padding: 10px 20px;">Sell</a>
          </li>
          <li class="u-nav-item"><a
              class="u-active-grey-70 u-border-active-palette-1-base u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-hover-grey-70 u-nav-link u-text-active-white u-text-grey-90 u-text-hover-white"
              href="{{ url_for('intervention') }}" style="padding: 10px 20px;">AI Intervention</a>
          </li>
        </ul>
      </div>
      <div class="u-custom-menu u-nav-container-collapse">
        <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
          <div class="u-inner-container-layout u-sidenav-overflow">
            <div class="u-menu-close"></div>
            <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-2">
              <li class="u-nav-item"><a class="u-button-style u-nav-link" href="{{ url_for('index') }}">Homepage</a>
              </li>
              <li class="u-nav-item"><a class="u-button-style u-nav-link" href="{{ url_for('search') }}">Buy</a>
              </li>
              <li class="u-nav-item"><a class="u-button-style u-nav-link" href="{{ url_for('sell') }}">Sell</a>
              </li>
              <li class="u-nav-item"><a class="u-button-style u-nav-link" href="{{ url_for('intervention') }}">AI Intervention</a>
              </li>
            </ul>
          </div>
        </div>
        <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
      </div>
    </nav>
  </header>

  <section class="u-clearfix u-image u-section-1" id="sec-ad81" data-image-width="2247" data-image-height="1500">
    <div class="u-clearfix u-sheet u-sheet-1">
      <div class="u-align-left u-container-style u-expanded-width u-group u-shape-rectangle u-group-1">
        <div class="u-container-layout u-container-layout-1">
          <h2 class="u-text u-text-1">Market Growth</h2>
          <div class="u-form u-form-1">
            <form
              class="u-clearfix u-form-horizontal u-form-spacing-10 u-inner-form" source="email" name="form"
              style="padding: 10px;">
              <div class="u-form-group u-form-select u-form-group-1">
                <label for="select-12cc" class="u-label u-label-1">Suburb</label>
                <div class="u-form-select-wrapper">
                  <select id="select-12cc" name="select" class="u-input u-input-rectangle">
                    <option value="{{ selected_suburb }}">{{ selected_suburb }}</option>
                    <!-- if suburb != selected_suburb, add option -->
                    {% for suburb in suburbs %}
                      {% if suburb.suburb != selected_suburb %}
                          <option value="{{ suburb.suburb }}">
                              {{ suburb.suburb }}
                          </option>
                      {% endif %}
                    {% endfor %}

                  </select>
                  <svg class="u-caret u-caret-svg" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="16px" height="16px"
                    viewBox="0 0 16 16" style="fill:currentColor;" xml:space="preserve">
                    <polygon class="st0" points="8,12 2,4 14,4 "></polygon>
                  </svg>
                </div>
              </div>
              <div class="u-align-left u-form-group u-form-submit">
                <!-- <a id="submit-button" class="u-btn u-btn-submit u-button-style u-btn-1">Submit</a>
                <input type="submit" value="submit" class="u-form-control-hidden"> -->
              </div>
            </form>
          </div>
        </div>
      </div>
      <div class="u-container-style u-grey-5 u-group u-opacity u-opacity-65 u-shape-rectangle u-group-2">
        <div class="u-container-layout u-container-layout-2">
          <div id="market-demand-chart-container" class="market-demand-chart-container"></div>
        </div>
        
      </div>
    </div>
    <a href="{{ url_for('intervention')}}"
      class="u-border-2 u-border-grey-75 u-btn u-button-style u-gradient u-none u-radius-4 u-text-body-alt-color u-btn-1"
      data-animation-name="" data-animation-duration="0" data-animation-delay="0" data-animation-direction=""> Want
      to know more about AI decision-making process?<span class="u-file-icon u-icon u-icon-1"><img
            src="/static/images/2990159.png" alt=""></span>
    </a>
    <div class="u-container-layout u-container-layout-5">
      <a id="back"
        class="u-border-2 u-border-grey-75 u-btn u-button-style u-gradient u-none u-radius-4 u-text-body-alt-color u-btn-2"><span
          class="u-file-icon u-icon u-text-white u-icon-3"><img src="/static/images/11502464-a8fb1a11.png" alt=""></span>&nbsp;Go
        back
      </a>
      
    </div>
  </section>



  <footer class="u-align-center u-clearfix u-footer u-grey-80 u-footer" id="sec-6200">
    <div class="u-clearfix u-sheet u-sheet-1">
      <p class="u-small-text u-text u-text-variant u-text-1">SEAM | A self-reflective and transcendent team</p>
    </div>
  </footer>
  <span
    style="height: 64px; width: 64px; margin-left: 0px; margin-right: auto; margin-top: 0px; right: 20px; bottom: 20px;"
    class="u-back-to-top u-file-icon u-icon u-opacity u-opacity-85 u-text-grey-5" data-href="#"><img
      src="/static/images/back_to_top.jpeg" alt="">
  </span>

  <script>
    async function fetchAndDisplayMarketDemand(selectedSuburb) {
      var requestData = { suburb: selectedSuburb };

      let res = await fetch("{{url_for('market_demand')}}", {
          method: 'POST',
          headers: {
              'Content-Type': 'application/json',
          },
          body: JSON.stringify(requestData),
      });

      let response = await res.json();
      let market_demand_data = response.sales_per_month;

      let market_demand_data_container = document.getElementById('market-demand-chart-container');

      Plotly.newPlot(market_demand_data_container, JSON.parse(market_demand_data), {
        title: 'Monthly Sales Data for ' + selectedSuburb,
        xaxis: { title: 'Month' },
        yaxis: { title: 'Number of Sales' },
        autosize: true,
        width: market_demand_data_container.offsetWidth,
        height: market_demand_data_container.offsetHeight
      });
    }

    document.addEventListener('DOMContentLoaded', (event) => {
        var initialSuburb = document.getElementById('select-12cc').value; // Assuming this dropdown contains the initial suburb
        fetchAndDisplayMarketDemand(initialSuburb);
    });

    document.getElementById('select-12cc').addEventListener('change', function() {
        var selectedSuburb = this.value;
        fetchAndDisplayMarketDemand(selectedSuburb);
    });
    
    document.getElementById("back").addEventListener("click", function() {
        window.history.back();
    });
</script>


</body>

</html>